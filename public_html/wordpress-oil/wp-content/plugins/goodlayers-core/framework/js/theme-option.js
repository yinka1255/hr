!function(e){"use strict";var t=function(){this.main_nav=e("#gdlr-core-theme-option-nav"),this.nav_slide=e("#gdlr-core-theme-option-nav-slides"),this.breadcrumbs=e("#gdlr-core-theme-option-head-breadcrumbs"),this.current_active_nav=this.main_nav.children(".gdlr-core-active"),this.sub_nav=e("#gdlr-core-theme-option-subnav"),this.content=e("#gdlr-core-theme-option-body-content"),this.search_btn=e("#gdlr-core-theme-option-head-search-button"),this.search_txt=e("#gdlr-core-theme-option-head-search-text"),this.save_btn=e("#gdlr-core-theme-option-save-button"),this.html_option=new gdlrCoreHtmlOption(this.content),this.init()};t.prototype={init:function(){var t=this;t.mainNavBinding(),t.slideNavBinding(),t.subNavBinding(),t.saveBtnBinding(),t.search_btn.click(function(){var a=t.search_txt.val();""==a.trim()?gdlr_core_alert_box({status:"failed",head:e(this).attr("data-blank-keyword-head"),message:e(this).attr("data-blank-keyword")}):t.searchAction(a)}),t.search_txt.on("input",gdlr_core_debounce(function(){var e=t.search_txt.val();""==e.trim()?t.current_active_nav.trigger("click"):t.searchAction(e)},600))},ajax_action:function(t){var a=this,n=e.extend({beforeSend:function(){a.content.children(".gdlr-core-active").animate({opacity:0},150,function(){a.content.addClass("gdlr-core-now-loading")})},error:function(e,t,n){gdlr_core_alert_box({status:"failed",head:gdlr_core_ajax_message.error_head,message:gdlr_core_ajax_message.error_message}),console.log(e,t,n),a.content.removeClass("gdlr-core-now-loading"),a.content.children(".gdlr-core-active").animate({opacity:1},150)},success:function(e){"failed"==e.status?gdlr_core_alert_box({status:e.status,head:e.head,message:e.message}):"success"==e.status&&(a.breadcrumbs.html(e.breadcrumbs),a.sub_nav.html(e.subnav),a.content.html(e.content).removeClass("gdlr-core-now-loading"),a.content.children(".gdlr-core-active").css({opacity:0}).animate({opacity:1},200),a.html_option.rebind(),a.content.find(".gdlr-core-theme-option-save-button").click(function(){a.save_btn.trigger("click")}))}},t);e.ajax({type:"POST",url:gdlr_core_ajax_message.ajaxurl,data:n.data,dataType:"json",beforeSend:n.beforeSend,error:n.error,success:n.success})},mainNavBinding:function(){var t=this;t.main_nav.children(".gdlr-core-theme-option-nav-item").click(function(){e(this).hasClass("gdlr-core-active")||(t.current_active_nav=e(this),t.current_active_nav.addClass("gdlr-core-active").siblings().removeClass("gdlr-core-active"),t.current_active_nav.trigger("gdlr-core-active-changed"),t.ajax_action({data:{security:gdlr_core_ajax_message.nonce,action:"get_theme_option_tab",nav_order:e(this).attr("data-nav-order"),option:t.html_option.get_val()}}))})},searchAction:function(e){var t=this;t.ajax_action({data:{security:gdlr_core_ajax_message.nonce,action:"get_theme_option_search",keyword:e,option:t.html_option.get_val()},beforeSend:function(){t.main_nav.trigger("gdlr-core-active-none"),t.content.children(".gdlr-core-active").animate({opacity:0},150,function(){t.content.addClass("gdlr-core-now-loading")})}})},slideNavBinding:function(){var t=this,a=t.main_nav.children(".gdlr-core-theme-option-nav-item.gdlr-core-active"),n={left:a.length>0?a.position().left:0,width:a.length>0?a.width():0};t.nav_slide.css({left:n.left,width:n.width}),t.main_nav.children(".gdlr-core-theme-option-nav-item").hover(function(){t.nav_slide.animate({left:e(this).position().left,width:e(this).width()},{queue:!1,easing:"easeOutQuad",duration:250})},function(){t.nav_slide.animate({left:n.left,width:n.width},{queue:!1,easing:"easeOutQuad",duration:250})}),t.main_nav.children(".gdlr-core-theme-option-nav-item").on("gdlr-core-active-changed",function(){n.left=e(this).position().left,n.width=e(this).width(),t.nav_slide.css({left:n.left,width:n.width})}),t.main_nav.on("gdlr-core-active-none",function(){n.left=0,n.width=0,t.nav_slide.css({left:n.left,width:n.width}),t.current_active_nav.removeClass("gdlr-core-active")})},subNavBinding:function(){var t=this;t.sub_nav.on("click",".gdlr-core-theme-option-subnav-item",function(){if(!e(this).hasClass("gdlr-core-active")){e(this).addClass("gdlr-core-active");var a=e(this).siblings(".gdlr-core-active").removeClass("gdlr-core-active");if(a.hasClass("gdlr-core-reload-after"))t.ajax_action({data:{security:gdlr_core_ajax_message.nonce,action:"get_theme_option_tab",nav_order:t.main_nav.children(".gdlr-core-theme-option-nav-item.gdlr-core-active").attr("data-nav-order"),subnav_order:e(this).attr("data-subnav-slug"),option:t.html_option.get_val()}});else{var n=e(this).attr("data-subnav-slug"),i=e(this).html();t.content.children(".gdlr-core-theme-option-section").each(function(){n==e(this).attr("data-section-slug")?(e(this).css({display:"none"}).addClass("gdlr-core-active").fadeIn(200),t.breadcrumbs.children(".gdlr-core-theme-option-head-breadcrumbs-subnav").html(i).css("opacity",0).animate({opacity:1},100)):e(this).removeClass("gdlr-core-active").css({display:"none"})})}}})},saveBtnBinding:function(){var e=this;e.save_btn.click(function(){e.save_btn.addClass("gdlr-core-now-loading"),e.content.find(".gdlr-core-theme-option-save-button").addClass("gdlr-core-now-loading"),e.ajax_action({beforeSend:function(){e.save_btn.addClass("gdlr-core-now-loading")},data:{security:gdlr_core_ajax_message.nonce,action:"save_theme_option",option:e.html_option.get_val()},success:function(t){"failed"==t.status?gdlr_core_alert_box({status:t.status,head:t.head,message:t.message}):"success"==t.status&&gdlr_core_alert_box({status:t.status,head:t.head,message:t.message}),e.save_btn.removeClass("gdlr-core-now-loading"),e.content.find(".gdlr-core-theme-option-save-button").removeClass("gdlr-core-now-loading")}})}),e.content.find(".gdlr-core-theme-option-save-button").click(function(){e.save_btn.trigger("click")})}},e(document).ready(function(){new t})}(jQuery);